{"version":3,"sources":["store/reducer.js","store/index.js","store/actionTypes.js","TodoList.js","store/actionCreators.js","index.js"],"names":["defaultState","inputValue","list","store","createStore","state","arguments","length","undefined","action","type","newState","JSON","parse","stringify","value","push","splice","index","window","__REDUX_DEVTOOLS_EXTENSION__","TodoList","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getState","changeInputValue","bind","assertThisInitialized","clickBtn","storeChange","subscribe","_this2","react_default","a","createElement","style","margin","input","placeholder","width","marginRight","onChange","es_button","onClick","bordered","dataSource","renderItem","item","Item","deleteItem","setState","e","target","dispatch","deleteItemAction","Component","ReactDOM","render","src_TodoList","document","getElementById"],"mappings":"wQAGMA,EAAe,CACnBC,WAAY,kBACZC,KAAK,CACH,QACA,QACA,QACA,QACA,UCFWC,EALDC,YDWC,WAAkC,IAAjCC,EAAiCC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzBN,EAAcS,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAE/C,GEhB0B,gBFgBtBC,EAAOC,KAAsB,CAC/B,IAAIC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUT,IAGzC,OAFAM,EAASV,WAAaQ,EAAOM,MAEtBJ,EAET,GErBsB,YFqBlBF,EAAOC,KAAkB,CAC3B,IAAIC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUT,IAGzC,MAF4B,KAAxBM,EAASV,YAAmBU,EAAST,KAAKc,KAAKL,EAASV,YAC5DU,EAASV,WAAa,GACfU,EAET,GE1ByB,eF0BrBF,EAAOC,KAAqB,CAC9B,IAAIC,EAAWC,KAAKC,MAAMD,KAAKE,UAAUT,IAEzC,OADAM,EAAST,KAAKe,OAAOR,EAAOS,MAAM,GAC3BP,EAGT,OAAON,GC7BPc,OAAOC,8BAAgCD,OAAOC,gCEkEjCC,cA/Db,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDjB,MAAQF,EAAM2B,WAEnBP,EAAKQ,iBAAmBR,EAAKQ,iBAAiBC,KAAtBR,OAAAS,EAAA,EAAAT,CAAAD,IACxBA,EAAKW,SAAWX,EAAKW,SAASF,KAAdR,OAAAS,EAAA,EAAAT,CAAAD,IAGhBA,EAAKY,YAAcZ,EAAKY,YAAYH,KAAjBR,OAAAS,EAAA,EAAAT,CAAAD,IACnBpB,EAAMiC,UAAUb,EAAKY,aATJZ,wEAYV,IAAAc,EAAAX,KACP,OACEY,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAO,SACnBJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACG,EAAA,EAAD,CACEC,YAAalB,KAAKrB,MAAMJ,WACxBwC,MAAO,CAAEI,MAAM,QAAQC,YAAY,QACnCC,SAAWrB,KAAKK,iBAChBhB,MAAOW,KAAKrB,MAAMJ,aAEpBqC,EAAAC,EAAAC,cAACQ,EAAA,EAAD,CACEtC,KAAK,UACLuC,QAASvB,KAAKQ,UAFhB,iBAKFI,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CAAEC,OAAO,OAAOG,MAAM,UAChCP,EAAAC,EAAAC,cAACtC,EAAA,EAAD,CACEgD,UAAQ,EACRC,WAAYzB,KAAKrB,MAAMH,KACvBkD,WAAY,SAACC,EAAKnC,GAAN,OAAiBoB,EAAAC,EAAAC,cAACtC,EAAA,EAAKoD,KAAN,CAAWL,QAASZ,EAAKkB,WAAWvB,KAAKK,EAAKnB,IAASmC,8CAU5F3B,KAAK8B,SAASrD,EAAM2B,qDAIL2B,GACf,IAAMhD,ECpDiC,CACzCC,KFH0B,cEI1BK,MDkDmC0C,EAAEC,OAAO3C,OAC1CZ,EAAMwD,SAASlD,sCAKf,IAAMA,ECrDyB,CACjCC,KFPsB,WC4DpBP,EAAMwD,SAASlD,sCAINS,GACT,IAAMT,ECvDsB,SAACS,GAAD,MAAW,CACzCR,KFVyB,aEWzBQ,SDqDiB0C,CAAiB1C,GAChCf,EAAMwD,SAASlD,UA5DIoD,aEHvBC,IAASC,OAAOzB,EAAAC,EAAAC,cAACwB,EAAD,MAAcC,SAASC,eAAe","file":"static/js/main.c7a84863.chunk.js","sourcesContent":["import { CHANGE_INPUT, ADD_ITEM, DELETE_ITEM } from './actionTypes'\n\n// 图书管理员\nconst defaultState = {\n  inputValue: 'Write Something',\n  list:[\n    '11111',\n    '22222',\n    '33333',\n    '44444',\n    '55555',\n  ],\n};\n\nexport default (state = defaultState, action) => {\n  // Reducer 里面只能接受state，不能改变state\n  if (action.type === CHANGE_INPUT){\n    let newState = JSON.parse(JSON.stringify(state));\n    newState.inputValue = action.value;\n    // 返回给 store仓库\n    return newState;\n  }\n  if (action.type === ADD_ITEM){\n    let newState = JSON.parse(JSON.stringify(state));\n    if (newState.inputValue !== '') newState.list.push(newState.inputValue);\n    newState.inputValue = '';\n    return newState;\n  }\n  if (action.type === DELETE_ITEM){\n    let newState = JSON.parse(JSON.stringify(state));\n    newState.list.splice(action.index,1);\n    return newState;\n  }\n\n  return state;\n}","import { createStore } from 'redux';\nimport reducer from './reducer';\n// 图书馆\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n);\n\nexport default store;","export const CHANGE_INPUT = 'changeInput';\nexport const ADD_ITEM = 'addItem';\nexport const DELETE_ITEM = 'deleteItem';\n","import React, { Component } from 'react';\nimport 'antd/dist/antd.css';\nimport { Input, Button, List } from 'antd';\nimport store from './store';\nimport { changeInputAction, addItemAction, deleteItemAction } from './store/actionCreators';\n\n\nclass TodoList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = store.getState();\n    // 改变this指向\n    this.changeInputValue = this.changeInputValue.bind(this);\n    this.clickBtn = this.clickBtn.bind(this);\n    // 订阅模式 - start\n    // 当使用 value={this.state.inputValue} 时，【必须】增加订阅模式，否则报错\n    this.storeChange = this.storeChange.bind(this);\n    store.subscribe(this.storeChange);\n    // 订阅模式 - end\n  }\n  render() { \n    return (\n      <div style={{ margin:'10px' }}>\n        <div>\n          <Input \n            placeholder={this.state.inputValue} \n            style={{ width:'250px',marginRight:'10px'}}\n            onChange={ this.changeInputValue }\n            value={this.state.inputValue}\n          />\n          <Button \n            type='primary' \n            onClick={this.clickBtn}\n          >增加</Button>\n        </div>\n        <div style={{ margin:'10px',width:'300px' }}>\n          <List\n            bordered\n            dataSource={this.state.list}\n            renderItem={(item,index) => (<List.Item onClick={this.deleteItem.bind(this,index)}>{item}</List.Item>)}\n            // renderItem={(item, index) => (<List.Item onClick={(e)=>this.deleteItem(index)}>{item}</List.Item>)}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  // 订阅模式\n  storeChange() {\n    this.setState(store.getState())\n  }\n\n  // 更改-input框内容\n  changeInputValue(e){\n    const action = changeInputAction(e.target.value)\n    store.dispatch(action);\n  }\n\n  // 增加\n  clickBtn(){\n    const action = addItemAction();\n    store.dispatch(action);\n  }\n\n  // 删除\n  deleteItem(index){\n    const action = deleteItemAction(index);\n    store.dispatch(action);\n  }\n}\n \nexport default TodoList;","import { CHANGE_INPUT, ADD_ITEM, DELETE_ITEM } from './actionTypes';\n\nexport const changeInputAction = (value)=>({\n  type: CHANGE_INPUT,\n  value,\n});\n\nexport const addItemAction = () =>({\n  type: ADD_ITEM,\n});\n\nexport const deleteItemAction = (index) =>({\n  type: DELETE_ITEM,\n  index,\n});","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport TodoList from './TodoList';\n\nReactDOM.render(<TodoList />, document.getElementById('root'));\n"],"sourceRoot":""}